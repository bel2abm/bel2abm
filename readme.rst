BEL2ABM
=======

Author: Michaela Gündel, Fraunhofer SCAI Bio, St. Augustin, Germany

michaela.guendel@scai-extern.fraunhofer.de

BEL2ABM is a method and tool to automatically convert BEL essentials to
an Agent-Based Model (ABM). This manual describes the currently implemented behaviours of the
BEL2ABM tool. For every BEL language entity, we explain how it is
converted into agent behaviour. The document details which of the BEL
components have been implemented in the tool and which are parts of the
future work list.

BEL2ABM uses an ontology (see Ontology leveraging), an external
homeostatic value file (see Homeostatic mimicking and Homeostatic value
file) and a settings file (see Settings .ini file) for conversion of BEL
code to an ABM. The ABM is written in NetLogo and run be run in the
NetLogo suite in a “world” consisting of 51x51 patches. The user has
various options of interacting with the simulation (Figure 1): via
initial numbers, agent numbers for agent injection during runtime
(however, agent numbers to be injected need to be changed directly in
the code), binding options of complex agents and their binding
strengths, movement speeds, reaction distance, homeostatic mimicking and
lifespans.

|image0|

Figure 1: Simulation window in NetLogo. (1) initial numbers (2) binding
options of complex agents (3) binding strengths of complex agents (4)
movement speeds (5) reaction distance (6) homeostatic mimicking switch
(7) lifespans

The output of the conversion is a NetLogo (.netlogo) file together with
a locations.txt file that contains all (x,y) positions of all agents at
all time points together with their breed name and breed ID.

Example Run
===========

Using the data from the example folder, CD into ``BEL2ABM/src/de/fraunhofer/scai`` and run (after changing the paths to the data)

.. code::

   javac BEL2ABM.java
   java -cp . BEL2ABM -l -k APP_SORLA -ABMCode BEL2ABM_code.nlogo -v


Configuration
=============

Command Line Interface
----------------------
The runtime parameters of this Java program has the following command line options:

+------------------+-------------------------------------------------------------------------------+-----------------------+
|  **Argument**    |  **Description**                                                              |  **Example value**    |
+==================+===============================================================================+=======================+
| -l               | Lists the KAMs in the KAM store. OpenBEL method.                              |                       |
+------------------+-------------------------------------------------------------------------------+-----------------------+
| -k               | The KAM to be used                                                            | APP\_SORLA            |
+------------------+-------------------------------------------------------------------------------+-----------------------+
| -ABMCode         | The output file to be created                                                 | output.nlogo          |
+------------------+-------------------------------------------------------------------------------+-----------------------+
| -v               | Verbous output in resulting .netlogo file (includes provenance of the code)   |                       |
+------------------+-------------------------------------------------------------------------------+-----------------------+

NetLogo Configuration
---------------------
NetLogo uses the following configuration specified in a configuration (``.ini``) file.

+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| **Argument**                          | **Description**                                                                                                                                                                                                                               | **Example values**                                                                                             |
+=========================================+=================================================================================================================================================================================================================================================+==================================================================================================================+
| -agent                                  | The BEL abundances that will be used for display in the NetLogo simulation. Note: This is just for display. Internally, all abundances are transformed into agents. Use long names of BEL terms (eg. complexAbundance() instead of complex())   | complexAbundance(proteinAbundance(MSO:"Alpha secretase"),proteinAbundance(MSO:"Alpha secretase"))                |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | proteinAbundance("sappalpha\_d")                                                                                 |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -BELTermAnnotationProperty              | The annotation property used in the ontology to connect it to BEL.                                                                                                                                                                              | http://scai.fraunhofer.de/HuPSON#BELterm                                                                         |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | ontology triple “allosteric enzyme” example:                                                                     |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000340 http://scai.fraunhofer.de/HuPSON#BELterm                      |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | abundance(HUPSON:"allosteric enzyme")                                                                            |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -onto                                   | The ontology to be used.                                                                                                                                                                                                                        | C:/Users/ontologies/HuPSON\_inferred.owl                                                                         |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -agentrelation                          | A check is done whether the abundance can be used as an agent. If the ontology class has an axiom attached to it (via -agentrelation) that points to the –agentclass, it means the abundance can.                                               | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00001036                                                               |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | eg                                                                                                               |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | [http://some\_class] http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00001036 http://scai.fraunhofer.de/HuPSON#agent   |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -agentclass                             | A check is done whether the abundance can be used as an agent. If the ontology class has an axiom attached to it (via -agentrelation) that points to the –agentclass, it means the abundance can.                                               | http://scai.fraunhofer.de/HuPSON#agent                                                                           |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | eg                                                                                                               |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | [http://some\_class] http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00001036 http://scai.fraunhofer.de/HuPSON#agent   |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -defaultAbundance                       | If the abundance is not connected to the ontology, this default is assumed.                                                                                                                                                                     | http://www.ifomis.org/bfo/1.1/snap#MaterialEntity                                                                |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -defaultProcess                         | If the process is not connected to the ontology, this default is assumed.                                                                                                                                                                       | http://www.ifomis.org/bfo/1.1/span#Process                                                                       |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -complexAbundance                       | If the abundance is not connected to the ontology, this default is assumed.                                                                                                                                                                     | http://purl.obolibrary.org/obo/CHEBI\_36080                                                                      |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -compositeAbundance                     | If the abundance is not connected to the ontology, this default is assumed.                                                                                                                                                                     | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00001152                                                               |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -proteinAbundance                       | If the abundance is not connected to the ontology, this default is assumed.                                                                                                                                                                     | http://purl.obolibrary.org/obo/CHEBI\_36080                                                                      |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -enzyme                                 | All abundances that have this superclass are considered as enzymes and treated as such.                                                                                                                                                         | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00001449                                                               |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -allostericEnzyme                       | All abundances that have this superclass are considered as allosteric enzymes and treated as such.                                                                                                                                              | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000340                                                               |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -locatedInAnnotationName                | Sets the terminology used in the BEL code to specify the location of an abundance.                                                                                                                                                              | Anatomy                                                                                                          |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | NervousSystem                                                                                                    |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -locatedIn                              | Checks the ontology for this URI to establish where an abundance may be located.                                                                                                                                                                | http://purl.org/obo/owl/ro#located\_in                                                                           |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -producedIn                             | Checks the ontology for this URI to establish where an abundance is produced.                                                                                                                                                                   | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000302                                                               |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -qualProp                               | URI in the ontology that points to qualitative properties.                                                                                                                                                                                      | http://purl.obofoundry.org/obo/OBI\_0000298 has\_quality                                                         |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | eg: protein has\_quality some life\_span                                                                         |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -mathmlProp                             | URI used as annotation property in the ontology to connect a class to its MathML code.                                                                                                                                                          | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_71497513                                                               |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | eg hasContentMathML <”math… />                                                                                   |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -agentreproducealgorithm                | Used for agent introduction. Variable values in order of appearance inside MathML string, tab separated                                                                                                                                         | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000015 20 365                                                        |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | here: stochastic pulse trains                                                                                    |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -agentreproducealgorithm\_default       | If no –agentreproducealgorithm is specifically set, agents are introduced randomly into the system                                                                                                                                              | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000032                                                               |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | eg random agent reproduce                                                                                        |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -homeostatic\_concentrations            | A tab separated external file that specifies homeostatic values of entities. See Homeostatic mimicking section.                                                                                                                                 | C:\\Users\\latitude\_user\\workspace\\BEL2ABM\\homeostatic\_values\_peripheralblood.txt                          |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -homeostatic\_concentrations\_default   | If homeostatic mimicking is switched on, this is the default value for all entities whose homeostatic concentration is not contained in the external file.                                                                                      | 1000                                                                                                             |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -isBodilyDevelopmentalProcess           | refers to the axiom attached to a class whose agent will be periodically introduced into the model because it is the output of some bodily development function that steadily occurs over time in the organism                                  | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000039 http://purl.org/obo/owl/GO#GO\_0032502                        |
|                                         |                                                                                                                                                                                                                                                 |                                                                                                                  |
|                                         |                                                                                                                                                                                                                                                 | here: is\_output\_of some hematopoiesis                                                                          |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -increases                              | The relation in the ontology used to connect a class to another class that it increases the number/occurrence of.                                                                                                                               | http://scai.fraunhofer.de/HuPSON#increases                                                                       |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -increasedby                            | The inverse relation of –increases.                                                                                                                                                                                                             | http://scai.fraunhofer.de/HuPSON#increased\_by                                                                   |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -decreases                              | The relation in the ontology used to connect a class to another class that it decreases the number/occurrence of.                                                                                                                               | http://scai.fraunhofer.de/HuPSON#decreases                                                                       |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -decreasedby                            | The inverse relation of –decreases.                                                                                                                                                                                                             | http://scai.fraunhofer.de/HuPSON#decreased\_by                                                                   |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -processURI                             | process class inside the ontology, for look-up; to connect processes disconnected to the ontology.                                                                                                                                              | http://www.ifomis.org/bfo/1.1/span#Process                                                                       |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -reproduce                              | An agent that can reproduce will have a link to this ontology class.                                                                                                                                                                            | http://purl.org/obo/owl/PATO#PATO\_0001434                                                                       |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -inactiveProperty                       | An agent that is inactive will have a link to this ontology class. The agent will have no activity value in the ABM and will thus participate in the simulation without any dependency on activity.                                             | http://purl.org/obo/owl/PATO#PATO\_0001706                                                                       |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -activeProperty                         | An agent that is active will have a link to this ontology class. The agent will have an activity value (random 100) and will participate in the simulation according to this probability. See Agent activity section.                           | http://purl.org/obo/owl/PATO#PATO\_0001707                                                                       |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -noHomeostasis                          | indicates that an agent isn't controlled by homeostasis: in HuPSON ''number controlled by homeostasis' some false'                                                                                                                              | http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000157 http://scai.fraunhofer.de/HuPSON#SCAIVPH\_00000086            |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| -reactionDistance                       | An agent can interact with other agents that are within a distance of [0..-reactionDistance].                                                                                                                                                   | 3                                                                                                                |
+-----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
